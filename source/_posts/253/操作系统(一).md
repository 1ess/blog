---
title: 操作系统(一)
featured_image: https://cdn-fawn.vercel.app/blogImg/Blog253.jpg
date: 2023/04/03
---

## 操作系统的历史
***  
### 早期操作系统
一开始，操作系统甚没有做太多事情。基本上，它只是一组常用函数库。通常，在这些老的大型机系统上，一次运行一个程序，由操作人员来控制。这种计算模式被称为批(batch)处理，先把一些工作准备好，然后由操作人员以分批的方式运行。

### 不仅库函数
早期任何程序都可以读取任何文件，所以隐私的概念消失了。因此，将一个文件系统(file system)实现为一个库是没有意义的。实际上，还需要更多的管理。因此，系统调用(system call)的概念诞生了，系统调用和过程调用之间的关键区别在于，系统调用将控制转移(跳转)到 OS 中，同时提高硬件特权级别(hardware privilege level)。用户应用程序以所谓的用户模式 **user mode** 运行，这意味着硬件限制了应用程序的功能。例如，以用户模式运行的应用程序通常不能发起对磁盘的 I/O 请求，不能访问任何物理内存页或在网络上发送数据包。在发起系统调用时(通常通过一个称为陷阱 **trap** 的特殊硬件指令，硬件将控制转移到预先指定的陷阱处理程序 **trap handler**，同时将特权级别提升到内核模式 **kernel mode**。在内核模式下，操作系统可以完全访问系统的硬件，因此可以执行诸如发起 I/O 请求或为程序提供更多内存等功能。当操作系统完成请求的服务时，它通过特殊的陷阱返回
 **return-from-trap** 指令将控制权交还给用户，该指令返回到用户模式，同时将控制权交还给应用程序，回到应用离开的地方。

### 多道程序时代
操作系统的真正兴起在大主机计算时代之后，即小型机 **minicomputer** 时代。由于希望更好地利用机器资源，多道程序 **multiprogramming** 变得很普遍。操作系统不是一次只运行一项作业，而是将大量作业加载到内存中在它们之间快速切换，从而提高 CPU 利用率。